<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
    <style>
        #popup {
            z-index: -1;
            opacity: 0;
            display: none;
            background-color: aqua;
            left: 20%;
        }
        .error
        {
            border: 2px solid red;
        }
    </style>
</head>

<body>
    <form id="Myform">
        <input type="button" id="showPopup" value="showPopup">
        <div id="popup">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4">
                        <label>Firstname</label>
                        <input type="text" name="Firstname" id="Firstname" class="form-control">
                        <span id="FirstnameSpan"></span>
                    </div>
                    <div class="col-lg-4">
                        <label>LastName</label>
                        <input type="text" name="LastName" id="LastName" class="form-control">
                        <span id="LastNameSpan"></span>
                    </div>
                    <div class="col-lg-4">
                        <label>LaunchDate</label>
                        <input type="date" name="LaunchDate" id="LaunchDate" class="form-control">
                        <span id="LaunchDateSpan"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <label>Address</label>
                        <input type="text" name="Address" id="Address" class="form-control">
                        <span id="AddressSpan"></span>
                    </div>
                    <div class="col-lg-4">
                        <label>Info</label>
                        <input type="text" name="Info" id="Info" class="form-control">
                        <span id="InfoSpan"></span>
                    </div>
                    <div class="col-lg-4">
                        <label>Active</label>
                        <input type="checkbox" name="Active" id="Active" value="true" checked onclick="Changing()" class="form-check-input">
                    </div>
                </div>
                <input type="button" id="Add" name="Add" value="Add">
                <table id="InsideTable">
                    <thead>
                        <tr>
                            <th>ItemName</th>
                            <th>itemDescription</th>
                            <th>FoodType</th>
                            <th>Price</th>
                            <th>Discount</th>
                            <th>Gst</th>
                            <th>Active</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <input type="button" name="save" id="save" value="save">
            <input type="button" name="update" id="update" value="update">
            <input type="button" name="close" id="close" value="close">
        </div>

    </form>
    <script>
        var counter1 = 0;

        function FirstName1() {
            var FirstName = document.getElementById('Firstname').value;
            var FirstNameTag = document.getElementById('Firstname')
            var SpanId = FirstNameTag.id + "Span";
            var SpanTag = document.getElementById(SpanId);
            var regx = /^[a-zA-Z]{3,}/
            var FlagFirstName = 0
            if ((FirstName.trim()) != "") {
                SpanTag.innerHTML = ""
                FlagFirstName = 0
                if (FirstName.length > 3) {
                    SpanTag.innerHTML = ""
                    FlagFirstName = 0
                    if (regx.test(FirstName)) {
                        SpanTag.innerHTML = ""
                        FlagFirstName = 0

                    }
                    else {
                        SpanTag.innerHTML = "not a valid input"
                        FlagFirstName = 1
                    }
                }
                else {
                    SpanTag.innerHTML = "Less than 3"
                    FlagFirstName = 1
                }
            }
            else {
                SpanTag.innerHTML = "this is required"
                FlagFirstName = 1
            }
            if (FlagFirstName == 1) {
                return false
            }
            else {
                return true
            }

        }

        function Lastname1() 
        {
            var LastName = document.getElementById('LastName').value;
            var LastNameTag = document.getElementById('LastName')
            var SpanId = LastNameTag.id + "Span";
            var SpanTag = document.getElementById(SpanId);
            var regx = /^[a-zA-Z]{3,}/
            var FlagLastName = 0
            if ((LastName.trim()) != "") {
                SpanTag.innerHTML = ""
                FlagLastName = 0
                if (LastName.length > 3) {
                    SpanTag.innerHTML = ""
                    FlagLastName = 0
                    if (regx.test(LastName)) {
                        SpanTag.innerHTML = ""
                        FlagLastName = 0

                    }
                    else {
                        SpanTag.innerHTML = "not a valid input"
                        FlagLastName = 1
                    }
                }
                else {
                    SpanTag.innerHTML = "Less than 3"
                    FlagLastName = 1
                }
            }
            else {
                SpanTag.innerHTML = "this is required"
                FlagLastName = 1
            }
            if (FlagLastName == 1) {
                return false
            }
            else {
                return true
            }

        }
        function LaunchDate1()
        {
            debugger
            var LaunchDate = document.getElementById('LaunchDate').value
            var LaunchDateTag = document.getElementById('LaunchDate')
            var SpanId = LaunchDateTag.id+"Span"
            var SpanTag = document.getElementById(SpanId)
            var FlagLaunchDate = 0
            if(LaunchDate.trim()!="")
            {
                SpanTag.innerHTML=""
                FlagLaunchDate = 0
            }
            else
            {
                SpanTag.innerHTML="this is required"
                FlagLaunchDate = 1
            }
            if(FlagLaunchDate ==1)
            {
                return true;
            }
            else
            {
                return false;
            }

        }
        function Address1()
        {
            
            var Address = document.getElementById('Address').value;
            var AddressTag = document.getElementById('Address')
            var SpanId = AddressTag.id + "Span";
            var SpanTag = document.getElementById(SpanId);
            var regx = /^[a-zA-Z 0-9]{3,}/
            var FlagAddress = 0
            if ((Address.trim()) != "") {
                SpanTag.innerHTML = ""
                FlagAddress = 0
                if (Address.length > 3) {
                    SpanTag.innerHTML = ""
                    FlagAddress = 0
                    if (regx.test(Address)) {
                        SpanTag.innerHTML = ""
                        FlagAddress = 0

                    }
                    else {
                        SpanTag.innerHTML = "not a valid input"
                        FlagAddress = 1
                    }
                }
                else {
                    SpanTag.innerHTML = "Less than 3"
                    FlagAddress = 1
                }
            }
            else {
                SpanTag.innerHTML = "this is required"
                FlagAddress = 1
            }
            if (FlagAddress == 1) {
                return false
            }
            else {
                return true
            }
        }
        function Info1()
        {
            debugger
            var Info = document.getElementById('Info').value;
            var InfoTag = document.getElementById('Info')
            
            var SpanId = InfoTag.id + "Span";
            var SpanTag = document.getElementById(SpanId);
            var regx = /^[a-zA-Z 0-9]{3,}/
            var FlagInfo = 0
            if ((Info.trim()) != "") {
                SpanTag.innerHTML = ""
                FlagInfo = 0
                if (Info.length > 3) {
                    SpanTag.innerHTML = ""
                    FlagInfo = 0
                    if (regx.test(Info)) {
                        SpanTag.innerHTML = ""
                        FlagInfo = 0

                    }
                    else {
                        SpanTag.innerHTML = "not a valid input"
                        FlagInfo = 1
                        InfoTag.classList.add('error')
                    }
                }
                else {
                    SpanTag.innerHTML = "Less than 3"
                    FlagInfo = 1
                    InfoTag.classList.add('error')
                }
            }
            else {
                SpanTag.innerHTML = "this is required"
                FlagInfo = 1
                InfoTag.classList.add('error')
            }
            if (FlagAddress == 1) {
                return false
            }
            else {
                return true
            }
            
        }
        function ChangeValues(element)
        {
            var element = element;
            var id = element.id;
            var name= element.name;
            var value = element.value;
            if(value=="true")
            {
                element.setAttribute("value","false")
            }
            else
            {
                element.setAttribute("value","true")
            }
        }
        function Changing()
        {
            var element = document.getElementById('Active').value;
            var element1 = document.getElementById('Active')
            if(element=="true")
            {
                element1.setAttribute("value","false")
            }
            else
            {
                element1.setAttribute("value","true");
            }
        }
        function ItemName1()
        {
            
        }
        function validation(element)
        {
            var element = element;
            var id = element.id;
            var name = element.name;
            if(name=="ItemName")
            {
                var ItemName = ItemName1(element)
                return ItemName
            }
            if(name=="itemDescription")
            {
                var itemDescription = itemDescription(element)
                return itemDescription
            }
            if(name=="select")
            {
                
                return true
            }
            if(name=="price")
            {
                var price = price1(element)
                return price
            }
            if(name=="Discount")
            {
                var Discount = Discount1(element)
                return Discount
            }
            if(name=="Gst")
            {
                var Gst = Gst1(element)
                return Gst

            }
            
            if(name=="Active1")
            {
                return true
            }
        }

        $('#Add').on('click', function () {
            if (counter1 < 11) {
                var row = $('<tr>')
                row.append('<td><input type="text" name="ItemName" id="ItemName' + counter1 + '" class="dynamic form-control"><span id="ItemName' + counter1 + 'Span"></span></td>')
                row.append('<td><input type="text" name="itemDescription" id="itemDescription' + counter1 + '"class="dynamic form-control"><span id="itemDescription' + counter1 + 'Span"></span></td>')
                row.append('<td><select name="select" class="dynamic form-select"><option name="DairyFood" value="DairyFood">DairyFood</option><option name="seafood" value="seafood">seafood</option><option name="Vegan" value="Vegan">Vegan</option><option name="Veg" value="Veg" selected>Veg</option><option name="Nonveg" value="Nonveg">Nonveg</option></select></td>')
                row.append('<td><input type="number" name="price" id="price' + counter1 + '" class="dynamic form-control"><span id="price' + counter1 + '"></span></td>')
                row.append('<td><input type="number" name="Discount" id="Discount' + counter1 + '" class="dynamic form-control"><span id="Discount' + counter1 + '"></span></td>')
                row.append('<td><input type="number" name="Gst" id="Gst' + counter1 + '" class="dynamic form-control"><span id="Gst' + counter1 + '"></span></td>')
                row.append('<td><input type="checkbox" name="Active1" id="Active1'+counter1+'" value="true" checked class="dynamic form-check-input" onclick=ChangeValues(this)></td>')
                row.append('<td><input type="button" name="Delete" id="'+counter1+'" class="Dynamic1" value="Delete"></td>')
                $('#InsideTable').append(row)
                counter1++;
            }
        })
        $(document).ready(function () {
            $('#showPopup').on('click', function () {
                $('#popup').css({ "z-index": "1", "opacity": "1", "display": "block" })
                $('#Add').click();
            })
            $(document).on('click', '#save', function (e) {
                var checkPoint =0
                e.preventDefault();
                var FirstName = FirstName1();
                var Lastname = Lastname1();
                var LaunchDate = LaunchDate1();
                var Address = Address1();
                var Info =Info1()
                var dynamic = document.querySelectorAll('.dynamic')
                var a=[]
                for(var i=0;i<dynamic.length;i++)
                {
                    var element = validation(dynamic[i])
                    a.push(element)
                }
                for(var i=0;i<dynamic.length;i++)
                {
                    if(a[i]=="true")
                    {
                        checkPoint =0
                    }
                    else
                    {
                        checkPoint =1
                        break;
                    }
                    if(FirstName=="true" &&Lastname=="true" &&LaunchDate=="true" &&Address=="true" &&Info=="true"&& checkPoint==0)
                    {
                        alert();
                    }
            
                }
            })
        })
    </script>
</body>

</html>