<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.js"></script>
    <style>
        .error {
            color: red;
        }
    </style>
</head>

<body>
    <form id="myform" class="was-validated" novalidate>
        <label>firstName</label>
        <input type="text" id="firstName" name="firstName">
        
        <input type="button" id="ADD" value="ADD" name="ADD">
        <div id="Abhishek"></div>
        <input type="submit" name="submit" id="submit" value="submit">
    </form>

    <script>
        $(document).ready(function () {
            $.validator.addMethod("Testing", function (value, element, args) {
                return /^[a-zA-Z]+$/.test(value);
            }, 'Invalid text');

            // Initialize validation
            $('#myform').validate({
                rules: {
                    firstName: {
                        required: true,
                        minlength: 3,
                        maxlength: 10,
                        Testing: true
                    }
                },
                messages: {
                    firstName: {
                        required: "Please enter your firstName",
                        minlength: "Please enter at least 3 characters",
                        maxlength: "Exceeds the max length"
                    }
                }
            });

            var lastNameCount = 0; // Counter for dynamic LastNames

            // Add LastName field dynamically
            $(document).on('click', '#ADD', function () {
                lastNameCount++;
                var add = $('<div>');
                var label = $('<label>').text('LastName');
                var input = $('<input>').attr({ "type": "text", "name": "LastName" + lastNameCount, "class": "valiu" });
                    
                add.append(label).append(input);
                $('#Abhishek').append(add);
                addLabelFields(input);

            });

            function addLabelFields(inputElement) {
                $(inputElement).rules("add", {
                    required: true,
                    minlength: 3,
                    maxlength: 10,
                    Testing: true,
                    messages: {
                        required: "Please enter your Lastname",
                        minlength: "Please enter at least 3 characters",
                        maxlength: "Please respect the maxlength of string",
                        Testing: "This input is invalid"
                    }
                });
            }

            // Validate form on submit
            $(document).on('click', '#submit', function (e) {
                if (!$('#myform').valid()) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>

</html>