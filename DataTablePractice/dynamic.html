<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
    <style>
        #showData {
            height: 500px;
            width: 500px;
            background-color: white;
            border: 2px solid black;
            display: none;

        }
    </style>
</head>

<body>
    <form id="MyForm">
        <input type="button" name="addButton" value="Add Button" id="addButton">
        <input type="text" name="Firstname" id="Firstname">
        <input type="submit" name="submit" id="submit" value="submit">
        <input type="button" name="showData" id="ShowAll" value="ShowAll">
        <table>
            <thead>
                <tr>
                    <th>Degree</th>
                    <th>School</th>
                    <th>10</th>
                    <th>12</th>
                    <th>13</th>
                    <th>14</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="Tbody">

            </tbody>
        </table>
        <div id="showData">

        </div>
    </form>
    <script>
        var Counter = 0;
        var allData = [];
        $(document).ready(function () {
            $('#addButton').on('click', function () {
                var newRow = '<tr>'
                for (var i = 0; i < 6; i++) {
                    newRow += ('<td> <input type="text" class="dynamic" id="dynamic' + Counter + '"></td> delete button for the row ');

                    Counter++;


                }
                newRow += '<td><button class="delete">Delete</button></td>'; // Add delete button in the last column
                newRow += '</tr>'
                $('#Tbody').append(newRow);

            })

            $('#MyForm').on('click', '#submit', function (e) {
                e.preventDefault();
                var rowData = {};
                $('.dynamic').each(function () {
                    var id = $(this).attr('id');
                    var value = $(this).val();
                    rowData[id] = value;
                })
                var FirstName = $('#Firstname').val();
                rowData['Firstname'] = FirstName;
                allData.push(rowData)
                console.log(allData)

                MyForm.reset();

            });

            $('#ShowAll').on('click', function () {
                $('#showData').toggle();

            });

            $(document).on('click', '.delete', function () {
                var RowIndexFind = $(this).closest('tr');
                RowIndexFind.remove();
            })

            $('#ShowAll').on('click', function () {
                allData.forEach(function (obj) {
                    console.log(obj)
                    $('#showData').append('<p>'+obj+'</p>')
                });
            });




        });
    </script>
</body>

</html>