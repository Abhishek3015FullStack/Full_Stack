<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
</head>

<body>
    <form id="Myform">
        <label>firstName</label>
        <input type="text" name="firstName" id="firstName">
        <input type="button" name="add" value="Add" id="Add">
        <button type="submit" id="submit">Submit</button>
        <div id="ADDEDDATA"></div>
        <table id="MYTbale">
            <thead>
                <tr>
                    <th>FirstName</th>
                    <th>action</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

        <table>
                <thead>
                        <tr>
                                <th>Degree</th>
                                <th>School</th>
                                <th>10</th>
                                <th>12</th>
                                <th>13</th>
                        </tr>
                </thead>
        </table>
    </form>
    <script>
        var allData = [];
        var counter = 0;
        $(document).ready(function () {
            $('#Add').on('click', function () {
                $('#ADDEDDATA').append('<input type="text" class="dynamic" id="dynamic_' + counter + '">')
                counter++;
            })

            $('#submit').on('click', function (e) {
                e.preventDefault();
                var RowData = {};
                $('.dynamic').each(function () {
                    var id = $(this).attr('id');
                    var value = $(this).val();
                    RowData[id] = value;
                })
                var FirstName = $('#firstName').val();
                RowData['FirstName'] = FirstName;
                allData.push(RowData)
                console.log(allData);
                table();
            });

            function table() {
                var table = $('#MYTbale').DataTable();
                table.clear().draw();
                $.each(allData, function (index, object) {
                    var row = table.row.add([object.FirstName, '<input type="button" class="edit" value="Edit"><input type="button" class="Delete" value="Delete">']).draw().node();
                })

            }
            $(document).on('click', '.edit', function () {
                var dynamicInputs = "";
                $.each(allData, function (index, object) {
                    $.each(object, function (key, value) {
                        dynamicInputs += '<label for="' + key + '">' + key + ':</label>' +
                            '<input type="text" id="' + key + '" value="' + value + '"><br>';
                    });
                });
                // Display the dynamic input fields in an alert
                alert(dynamicInputs);
            });

        })
    </script>
</body>

</html>